Vue.component("list-card",{props:["list","index"],template:"#list-card",methods:{remove:function(){this.$emit("remove")},select:function(){this.$emit("select")},stats:function(){return this.$root.listStats(this.index)}}}),Vue.component("list-section",{props:["list","index"],template:"#list-section",methods:{remove:function(t){this.$root.lists[this.index].items.splice(t,1),this.$root.update()},select:function(t){this.$root.settings.item=t},stats:function(){return this.$root.listStats(this.index)}}}),Vue.component("item-card",{props:["item","index"],template:"#item-card",methods:{remove:function(t){this.$emit("remove")},select:function(t){this.$emit("select")},price:function(t){return this.$root.convert(t,"money")}}});var app=new Vue({el:"#app",data:{lists:[{title:"test 1",description:"test",date:"12/07/2017",items:[]},{title:"test 2",description:"test",date:"12/07/2018",items:[]}],add:{item:{title:"",amount:1,price:null,date:null,bought:0},list:{title:"",description:"",date:"",items:[]}},model:{item:{title:"",amount:1,price:null,date:null,bought:0},list:{title:"",description:"",date:"",items:[]}},settings:{list:null,item:null,selected:null,limit:5,cookie:2592e3}},mounted:function(){this.setup()},methods:{setup:function(){if(this.$cookies.isKey("lists")){var t=JSON.parse(this.$cookies.get("lists"));this.lists=t}},update:function(){var t=JSON.stringify(this.lists);this.$cookies.set("lists",t,this.settings.cookie)},addList:function(t){this.lists.push(t),this.add.list=this.model.list,this.update(),$("#addList").modal("hide")},removelist:function(t){this.lists.splice(t,1),this.update()},selectlist:function(t){this.settings.list=t},listStats:function(t){var i={items:0,deals:0,cost:0};return this.lists[t].items.forEach(function(t){i.items+=1*t.amount,i.cost+=t.price*t.amount}),i.cost="Â£"+this.convert(i.cost,"money"),i},addItem:function(t){var i;i=null!=this.settings.list?this.settings.list:this.settings.selected,t.price=this.convert(t.price,"money"),this.lists[i].items.push(t),this.update(),$("#addItem").modal("hide"),this.add.item={title:"",amount:1,price:null,date:null,bought:0}},validate:function(t){console.log(t);for(var i in t)if(null==t[i])return!1;return!0},convert:function(t,i){var e;return"money"==i&&(e=(100*parseFloat(t)/100).toFixed(2)),e}}});